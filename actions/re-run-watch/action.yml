name: watch for jobs re-running
description: do not allow jobs to be re-running

runs:
  using: composite
  steps:       
      - name: Check if job has ran before
        run:  |          
          echo "This job shall not run more times than 1; canceling job"
          curl \
          -X POST \
          -H "Accept: application/vnd.github.v3+json" \
          -H "Authorization: token ${{ github.token }}" \
          https://api.github.com/repos/${{ github.repository }}/actions/runs/${{ github.run_id }}/cancel
        shell: bash
        if: ${{ github.run_attempt != '1' }}
      